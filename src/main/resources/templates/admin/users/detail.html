<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chi tiết người dùng - EduShare Admin</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&family=Playfair+Display:wght@700&display=swap"
    rel="stylesheet" />

  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <link rel="stylesheet" th:href="@{/css/admin/admin.css}" />
  <link rel="stylesheet" th:href="@{/css/admin/admin_users.css}" />
  <link rel="stylesheet" th:href="@{/css/admin/coin-packages.css}" />
</head>

<body class="admin-body">
  <!-- Admin Header -->
  <div th:replace="~{fragments/admin/layout :: header}"></div>

  <div class="admin-container">
    <!-- Sidebar -->
    <div th:replace="~{fragments/admin/sidebar :: admin-sidebar}"></div>

    <!-- Main Content -->
    <main class="admin-content">
      <!-- Admin Content Header -->
      <div class="admin-content-header">
        <div>
          <h1 class="admin-page-title">Chi tiết người dùng</h1>
          <div class="admin-breadcrumbs">
            <a th:href="@{/admin}">Admin</a>
            <span class="breadcrumb-separator">/</span>
            <a th:href="@{/admin/users}">Quản lý người dùng</a>
            <span class="breadcrumb-separator">/</span>
            <span th:text="${userDTO.fullName}">Nguyễn Văn A</span>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div th:if="${error}" class="error-message">
        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <span th:text="${error}">Lỗi</span>
        </div>
      </div>

      <div class="package-overview" th:if="${userDTO != null}">
        <div class="overview-header">
          <div class="package-info">
            <h2 th:text="${userDTO.fullName}">Nguyễn Văn A</h2>
            <p class="package-code" th:text="${userDTO.username}">username</p>
            <div class="package-status">
              <span class="status-badge" th:classappend="${userDTO.status}">
                <span th:text="${userDTO.status}">active</span>
              </span>
            </div>
          </div>

          <div class="avatar-section">
            <img class="rounded-circle" width="80" height="80" th:if="${userDTO.avatarUrl != null}"
              th:src="@{${userDTO.avatarUrl}}" alt="Avatar" />

            <img class="rounded-circle" width="80" height="80" th:if="${userDTO.avatarUrl == null}"
              th:src="@{/assets/images/default-avatar.png}" alt="Default Avatar" />
          </div>

        </div>

        <div class="dashboard-actions">
          <a th:href="@{/admin/users}" class="secondary-btn">
            <i class="fas fa-arrow-left"></i> Quay lại
          </a>
          <a th:href="@{'/admin/users/' + ${userDTO.id} + '/edit'}" class="primary-btn">
            <i class="fas fa-edit"></i> Chỉnh sửa
          </a>
          <a th:href="@{'/admin/users/' + ${userDTO.id} + '/delete'}" class="danger-btn">
            <i class="fas fa-trash"></i> Xóa
          </a>
        </div>
      </div>

      <div class="details-section" th:if="${userDTO != null}">
        <div class="details-grid">
          <div class="detail-card">
            <div class="card-header">
              <h3><i class="fas fa-info-circle"></i> Thông tin người dùng</h3>
            </div>
            <div class="card-content">
              <div class="info-item">
                <span class="info-label">Họ và tên:</span>
                <span class="info-value" th:text="${userDTO.fullName}">Nguyễn Văn A</span>
              </div>
              <div class="info-item">
                <span class="info-label">Email:</span>
                <span class="info-value" th:text="${userDTO.email}">email@example.com</span>
              </div>
              <div class="info-item">
                <span class="info-label">Tên đăng nhập:</span>
                <span class="info-value" th:text="${userDTO.username}">username</span>
              </div>
              <div class="info-item">
                <span class="info-label">Vai trò:</span>
                <span class="info-value" th:text="${userDTO.role}">admin</span>
              </div>
              <div class="info-item">
                <span class="info-label">Trạng thái:</span>
                <span class="info-value" th:text="${userDTO.status}">active</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

  </div>
</body>

</html>