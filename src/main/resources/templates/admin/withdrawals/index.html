<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản lý yêu cầu rút tiền - Admin</title>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&family=Playfair+Display:wght@700&display=swap"
      rel="stylesheet"
    />

    <!-- CSS Files -->
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link rel="stylesheet" th:href="@{/css/admin/admin.css}" />
    <link rel="stylesheet" th:href="@{/css/admin/toast.css}" />
    <link rel="stylesheet" th:href="@{/css/admin/withdrawals.css}" />
  </head>

  <body class="admin-body">
    <!-- Admin Header -->
    <div th:replace="~{fragments/admin/layout :: header}"></div>

    <!-- Admin Container -->
    <div class="admin-container">
      <!-- Sidebar -->
      <div th:replace="fragments/admin/sidebar :: admin-sidebar"></div>

      <!-- Main Content -->
      <main class="admin-content">
        <!-- Admin Content Header -->
        <div class="admin-content-header">
          <div>
            <h1 class="admin-page-title">Quản lý yêu cầu rút tiền</h1>
            <div class="admin-breadcrumbs">
              <a th:href="@{/admin}">Admin</a>
              <span class="breadcrumb-separator">/</span>
              <span>Yêu cầu rút tiền</span>
            </div>
          </div>
        </div>

        <!-- Statistics Overview -->
        <div class="revenue-overview">
          <div class="stat-card primary">
            <div class="stat-content">
              <div class="stat-info">
                <h3>Tổng yêu cầu</h3>
                <p class="stat-number">156</p>
                <span class="stat-change positive"
                  >+12% so với tháng trước</span
                >
              </div>
              <div class="stat-icon">
                <i class="fas fa-money-bill-wave"></i>
              </div>
            </div>
          </div>

          <div class="stat-card secondary">
            <div class="stat-content">
              <div class="stat-info">
                <h3>Chờ duyệt</h3>
                <p class="stat-number">23</p>
                <span class="stat-change neutral">Cần xử lý</span>
              </div>
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
            </div>
          </div>

          <div class="stat-card tertiary">
            <div class="stat-content">
              <div class="stat-info">
                <h3>Đã hoàn thành</h3>
                <p class="stat-number">98</p>
                <span class="stat-change positive">+8% so với tháng trước</span>
              </div>
              <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>

          <div class="stat-card quaternary">
            <div class="stat-content">
              <div class="stat-info">
                <h3>Tổng tiền rút</h3>
                <p class="stat-number">45.2M ₫</p>
                <span class="stat-change positive"
                  >+15% so với tháng trước</span
                >
              </div>
              <div class="stat-icon">
                <i class="fas fa-coins"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Filters and Search -->
        <div class="management-tools">
          <div class="search-filters">
            <div class="tool-item">
              <input
                type="text"
                class="search-input"
                placeholder="Tìm kiếm theo tên người dùng, email..."
                id="searchInput"
              />
            </div>
            <div class="tool-item">
              <select class="filter-select" id="statusFilter">
                <option value="">Tất cả trạng thái</option>
                <option value="pending">Chờ duyệt</option>
                <option value="approved">Đã duyệt</option>
                <option value="processing">Đang xử lý</option>
                <option value="completed">Đã hoàn thành</option>
                <option value="rejected">Đã từ chối</option>
              </select>
            </div>
            <div class="tool-item">
              <select class="filter-select" id="amountFilter">
                <option value="">Tất cả số tiền</option>
                <option value="0-1000000">Dưới 1 triệu</option>
                <option value="1000000-5000000">1-5 triệu</option>
                <option value="5000000-10000000">5-10 triệu</option>
                <option value="10000000+">Trên 10 triệu</option>
              </select>
            </div>
          </div>
          <div class="action-buttons">
            <button class="export-btn" id="exportBtn">
              <i class="fas fa-download"></i>
              Xuất Excel
            </button>
          </div>
        </div>

        <!-- Date Range Filter -->
        <div class="date-range-selector">
          <div class="date-preset-btns">
            <button class="date-btn active" data-range="today">Hôm nay</button>
            <button class="date-btn" data-range="week">Tuần này</button>
            <button class="date-btn" data-range="month">Tháng này</button>
            <button class="date-btn" data-range="quarter">Quý này</button>
            <button class="date-btn" data-range="year">Năm này</button>
            <button class="date-btn" data-range="custom">Tùy chọn</button>
          </div>
          <div class="custom-date-range" style="display: none">
            <div class="date-inputs">
              <input type="date" id="startDate" />
              <span>đến</span>
              <input type="date" id="endDate" />
            </div>
            <button class="apply-date-btn">Áp dụng</button>
          </div>
        </div>

        <!-- Withdrawals Table -->
        <div class="data-container">
          <div class="table-header">
            <h3>Danh sách yêu cầu rút tiền</h3>
            <div class="table-actions">
              <button class="secondary-btn" id="refreshBtn">
                <i class="fas fa-sync-alt"></i>
                Làm mới
              </button>
            </div>
          </div>

          <div class="table-container">
            <table class="data-table withdrawals-table">
              <thead>
                <tr>
                  <th>
                    <div class="checkbox-wrapper">
                      <input type="checkbox" id="selectAll" />
                      <label for="selectAll"></label>
                    </div>
                  </th>
                  <th>ID</th>
                  <th>Người dùng</th>
                  <th>Số tiền</th>
                  <th>Phương thức</th>
                  <th>Ngày tạo</th>
                  <th>Trạng thái</th>
                  <th>Hành động</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="checkbox-wrapper">
                      <input type="checkbox" id="select1" />
                      <label for="select1"></label>
                    </div>
                  </td>
                  <td>#WD001</td>
                  <td>
                    <div class="user-info">
                      <img
                        src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                        alt="User"
                        class="user-avatar"
                      />
                      <div class="user-details">
                        <span class="user-name">Nguyễn Văn A</span>
                        <span class="user-email">nguyenvana@email.com</span>
                      </div>
                    </div>
                  </td>
                  <td class="amount">2.500.000 ₫</td>
                  <td>
                    <div class="payment-method">
                      <i class="fas fa-university"></i>
                      <span>Ngân hàng</span>
                    </div>
                  </td>
                  <td>15/01/2024 14:30</td>
                  <td>
                    <span class="status-badge pending">Chờ duyệt</span>
                  </td>
                  <td>
                    <div class="action-buttons">
                      <button class="action-btn approve" title="Duyệt">
                        <i class="fas fa-check"></i>
                      </button>
                      <button class="action-btn reject" title="Từ chối">
                        <i class="fas fa-times"></i>
                      </button>
                      <button
                        class="action-btn view-withdrawal"
                        title="Xem chi tiết"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="checkbox-wrapper">
                      <input type="checkbox" id="select2" />
                      <label for="select2"></label>
                    </div>
                  </td>
                  <td>#WD002</td>
                  <td>
                    <div class="user-info">
                      <img
                        src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                        alt="User"
                        class="user-avatar"
                      />
                      <div class="user-details">
                        <span class="user-name">Trần Thị B</span>
                        <span class="user-email">tranthib@email.com</span>
                      </div>
                    </div>
                  </td>
                  <td class="amount">1.200.000 ₫</td>
                  <td>
                    <div class="payment-method">
                      <i class="fas fa-credit-card"></i>
                      <span>Ví điện tử</span>
                    </div>
                  </td>
                  <td>14/01/2024 09:15</td>
                  <td>
                    <span class="status-badge processing">Đang xử lý</span>
                  </td>
                  <td>
                    <div class="action-buttons">
                      <button class="action-btn complete" title="Hoàn thành">
                        <i class="fas fa-check-double"></i>
                      </button>
                      <button
                        class="action-btn view-withdrawal"
                        title="Xem chi tiết"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>
                    <div class="checkbox-wrapper">
                      <input type="checkbox" id="select3" />
                      <label for="select3"></label>
                    </div>
                  </td>
                  <td>#WD003</td>
                  <td>
                    <div class="user-info">
                      <img
                        src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                        alt="User"
                        class="user-avatar"
                      />
                      <div class="user-details">
                        <span class="user-name">Lê Văn C</span>
                        <span class="user-email">levanc@email.com</span>
                      </div>
                    </div>
                  </td>
                  <td class="amount">5.000.000 ₫</td>
                  <td>
                    <div class="payment-method">
                      <i class="fas fa-university"></i>
                      <span>Ngân hàng</span>
                    </div>
                  </td>
                  <td>13/01/2024 16:45</td>
                  <td>
                    <span class="status-badge completed">Đã hoàn thành</span>
                  </td>
                  <td>
                    <div class="action-buttons">
                      <button
                        class="action-btn view-withdrawal"
                        title="Xem chi tiết"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination -->
          <div class="pagination">
            <button class="pagination-btn" disabled>
              <i class="fas fa-chevron-left"></i>
            </button>
            <div class="pagination-pages">
              <button class="pagination-btn active">1</button>
              <button class="pagination-btn">2</button>
              <button class="pagination-btn">3</button>
              <span class="pagination-ellipsis">...</span>
              <button class="pagination-btn">10</button>
            </div>
            <button class="pagination-btn">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- Scripts -->
    <div th:replace="~{fragments/admin/layout :: scripts}"></div>
    <script th:src="@{/js/admin/withdrawals-index.js}"></script>
  </body>
</html>
