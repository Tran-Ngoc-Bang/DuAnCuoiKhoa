<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <title>C√†i ƒë·∫∑t h·ªá th·ªëng - EduShare Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">
    
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin/admin.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin/toast.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin/setting.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin/notifications.css}"/>
    <link rel="stylesheet" th:href="@{/css/admin/toast.css}" />
    <script th:src="@{/js/admin/flash-toast.js}"></script>
    <script th:src="@{/js/admin/admin.js}"></script>
    <script th:src="@{/js/admin/notifications.js}"></script>

</head>

<body class="admin-body">
    <!-- Admin Header -->
    <div th:replace="~{fragments/admin/layout :: header}"></div>

    <!-- Admin Container -->
    <div class="admin-container">
        <!-- Sidebar -->
        <div th:replace="~{fragments/admin/sidebar :: admin-sidebar}"></div>

        <!-- Main Content -->
        <main class="admin-content">
            <div class="admin-content-header">
                <h1 class="admin-page-title">C√†i ƒë·∫∑t h·ªá th·ªëng</h1>
                <div class="admin-breadcrumbs">
                    <a href="index.html">Admin</a>
                    <span>/</span>
                    <span>C√†i ƒë·∫∑t</span>
                </div>
            </div>

            <!-- Settings Navigation -->
            <div class="settings-nav">
                <div class="settings-nav-item active" data-section="general">
                    <i class="fas fa-cog"></i>
                    <span>C√†i ƒë·∫∑t chung</span>
                </div>
                <div class="settings-nav-item" data-section="notifications">
                    <i class="fas fa-bell"></i>
                    <span>Th√¥ng b√°o</span>
                </div>
                <div class="settings-nav-item" data-section="backup">
                    <i class="fas fa-database"></i>
                    <span>Sao l∆∞u</span>
                </div>
            </div>

            <!-- Settings Content -->
            <form th:action="@{/admin/settings/save}" method="post" id="settingsForm">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <div class="settings-content">
                <!-- General Settings -->
                <div class="settings-section active" id="general">
                    <div class="section-header">
                        <h2><i class="fas fa-cog"></i> C√†i ƒë·∫∑t chung</h2>
                        <p>C·∫•u h√¨nh c∆° b·∫£n cho h·ªá th·ªëng EduShare</p>
                    </div>

                    <div class="settings-cards">
                        <div class="settings-card">
                            <div class="card-header">
                                <h3>Th√¥ng tin website</h3>
                                <p>C·∫•u h√¨nh th√¥ng tin c∆° b·∫£n c·ªßa website</p>
                            </div>
                            <div class="card-content">
                                <div class="form-group">
                                    <label class="form-label">T√™n website</label>
                                    <input type="text" class="form-input" name="siteName" th:value="${settings.siteName}">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">M√¥ t·∫£ website</label>
                                    <textarea class="form-input form-textarea" name="siteDescription" rows="3" th:text="${settings.siteDescription}"></textarea>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Email li√™n h·ªá</label>
                                        <input type="email" class="form-input" name="contactEmail" th:value="${settings.contactEmail}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                                        <input type="tel" class="form-input" name="contactPhone" th:value="${settings.contactPhone}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ƒê·ªãa ch·ªâ</label>
                                    <input type="text" class="form-input" name="address" th:value="${settings.address}">
                                </div>
                            </div>
                        </div>


                    </div>
                </div>



                <!-- Notification Settings -->
                <div class="settings-section" id="notifications">
                    <div class="section-header">
                        <h2><i class="fas fa-bell"></i> C√†i ƒë·∫∑t th√¥ng b√°o</h2>
                        <p>Qu·∫£n l√Ω c√°c lo·∫°i th√¥ng b√°o v√† c√°ch g·ª≠i</p>
                    </div>

                    <div class="settings-cards">
                        <div class="settings-card">
                            <div class="card-header">
                                <h3>Email notifications</h3>
                                <p>C·∫•u h√¨nh g·ª≠i email th√¥ng b√°o</p>
                            </div>
                            <div class="card-content">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">SMTP Server</label>
                                        <input type="text" class="form-input" name="smtpServer" th:value="${settings.smtpServer}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">SMTP Port</label>
                                        <input type="number" class="form-input" name="smtpPort" th:value="${settings.smtpPort}">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Email g·ª≠i</label>
                                        <input type="email" class="form-input" name="emailSender" th:value="${settings.emailSender}">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">M·∫≠t kh·∫©u SMTP</label>
                                        <input type="password" class="form-input" name="smtpPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u email">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">T√™n hi·ªÉn th·ªã</label>
                                        <input type="text" class="form-input" name="emailDisplayName" th:value="${settings.emailDisplayName}">
                                    </div>
                                 <!-- <div class="form-group">
                                        <label class="form-label">Test k·∫øt n·ªëi</label>
                                        <button type="button" class="backup-btn secondary" onclick="testEmailConnection()">
                                            <i class="fas fa-envelope"></i> Test Email
                                        </button>
                                    </div>-->  
                                </div>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" class="toggle-input" name="saveToPropertiesFile">
                                            <span class="toggle-slider"></span>
                                            L∆∞u v√†o application
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group" style="margin-top: 15px;">
                                    <div style="padding: 10px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px; font-size: 0.9em;">
                                        <strong>üìù L∆∞u √Ω:</strong>
                                        <ul style="margin: 5px 0; padding-left: 20px;">
                                            <li><strong>B·∫≠t:</strong> L∆∞u v√†o file application.properties (vƒ©nh vi·ªÖn, kh√¥ng m·∫•t khi restart)</li>
                                            <li><strong>T·∫Øt:</strong> Ch·ªâ c·∫≠p nh·∫≠t runtime (m·∫•t khi restart server)</li>
                                            <li>File backup s·∫Ω ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông tr∆∞·ªõc khi thay ƒë·ªïi</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" class="toggle-input" name="notifyNewDocuments" th:checked="${settings.notifyNewDocuments}">
                                            <span class="toggle-slider"></span>
                                            Th√¥ng b√°o t√†i li·ªáu m·ªõi
                                        </label>
                                    </div>
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" class="toggle-input" name="notifyNewComments" th:checked="${settings.notifyNewComments}">
                                            <span class="toggle-slider"></span>
                                            Th√¥ng b√°o b√¨nh lu·∫≠n m·ªõi
                                        </label>
                                    </div>

                                </div>
                                
                                <!-- Simple Email Test Form - COMMENTED OUT -->
                                <!--
                                <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px;">
                                    <h4 style="margin: 0 0 15px 0; color: #495057;">üß™ Test Email ƒê∆°n Gi·∫£n</h4>
                                    <form th:action="@{/admin/settings/email/test-simple}" method="post" style="display: flex; gap: 10px; align-items: end;">
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                        <div style="flex: 1;">
                                            <label class="form-label" style="margin-bottom: 5px;">Email nh·∫≠n test:</label>
                                            <input type="email" name="testEmail" class="form-input" placeholder="your-email@gmail.com" required style="margin: 0;" value="test@example.com">
                                        </div>
                                        <button type="submit" class="backup-btn secondary" style="margin: 0;" onclick="console.log('Test button clicked!'); return true;">
                                            <i class="fas fa-paper-plane"></i> G·ª≠i Test
                                        </button>
                                    </form>
                                    
                                    <div style="margin-top: 10px;">
                                        <a href="/admin/settings/test-routing" target="_blank" style="color: #007bff; font-size: 12px;">üîó Test Direct Link</a>
                                    </div>
                                    <small style="color: #6c757d; font-size: 12px;">G·ª≠i email test ƒë∆°n gi·∫£n ƒë·ªÉ ki·ªÉm tra c·∫•u h√¨nh SMTP</small>
                                </div>
                                -->
                            </div>
                        </div>

                        <div class="settings-card">
                            <div class="card-header">
                                <h3>Th√¥ng b√°o t√†i li·ªáu m·ªõi</h3>
                                <p>G·ª≠i email th√¥ng b√°o t√†i li·ªáu m·ªõi cho t·∫•t c·∫£ ng∆∞·ªùi d√πng</p>
                            </div>
                            <div class="card-content">
                                <div class="form-group">
                                    <label class="form-label">T·∫ßn su·∫•t g·ª≠i th√¥ng b√°o</label>
                                    <select class="form-input" name="documentNotificationFrequency">
                                        <option value="immediate" th:selected="${settings.documentNotificationFrequency == 'immediate'}">Ngay l·∫≠p t·ª©c (khi c√≥ t√†i li·ªáu m·ªõi)</option>
                                        <option value="daily" th:selected="${settings.documentNotificationFrequency == 'daily'}">H√†ng ng√†y</option>
                                        <option value="weekly" th:selected="${settings.documentNotificationFrequency == 'weekly'}">H√†ng tu·∫ßn</option>
                                        <option value="never" th:selected="${settings.documentNotificationFrequency == 'never'}">Kh√¥ng g·ª≠i</option>
                                    </select>
                                </div>
                                <div class="toggle-group">
                                    <div class="toggle-item">
                                        <label class="toggle-label">
                                            <input type="checkbox" class="toggle-input" name="enableDocumentNotifications" th:checked="${settings.enableDocumentNotifications}" checked>
                                            <span class="toggle-slider"></span>
                                            K√≠ch ho·∫°t th√¥ng b√°o t√†i li·ªáu m·ªõi
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="backup-info" style="margin: 15px 0;">
                                    <div class="backup-stat">
                                        <div class="stat-label">Th√¥ng b√°o g·ª≠i cu·ªëi c√πng</div>
                                        <div class="stat-value" th:text="${settings.lastDocumentNotificationSent}">Ch∆∞a g·ª≠i</div>
                                    </div>
                                    <div class="backup-stat">
                                        <div class="stat-label">T·∫ßn su·∫•t hi·ªán t·∫°i</div>
                                        <div class="stat-value" th:text="${settings.documentNotificationFrequency == 'daily' ? 'H√†ng ng√†y' : 
                                                                           settings.documentNotificationFrequency == 'weekly' ? 'H√†ng tu·∫ßn' : 
                                                                           settings.documentNotificationFrequency == 'immediate' ? 'Ngay l·∫≠p t·ª©c' : 'Kh√¥ng g·ª≠i'}">H√†ng ng√†y</div>
                                    </div>
                                    <div class="backup-stat">
                                        <div class="stat-label">Tr·∫°ng th√°i t·ª± ƒë·ªông</div>
                                        <div class="stat-value" style="color: #28a745; font-weight: bold;" th:if="${settings.enableDocumentNotifications and settings.documentNotificationFrequency != 'never'}">
                                            ‚úÖ ƒêang ho·∫°t ƒë·ªông
                                        </div>
                                        <div class="stat-value" style="color: #6c757d;" th:unless="${settings.enableDocumentNotifications and settings.documentNotificationFrequency != 'never'}">
                                            ‚è∏Ô∏è T·∫°m d·ª´ng
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="backup-actions" style="margin-top: 15px;">
                                    <a th:href="@{/admin/settings/document-notifications/test-few-users?maxUsers=2}" class="backup-btn primary" onclick="return confirm('G·ª≠i email test cho 2 users ƒë·∫ßu ti√™n? (Tr√°nh Gmail limit)')" target="_blank">
                                        <i class="fas fa-paper-plane"></i> G·ª≠i Test (2 Users)
                                    </a>
                                    <a th:href="@{/admin/settings/document-notifications/preview}" class="backup-btn secondary">
                                        <i class="fas fa-eye"></i> Xem tr∆∞·ªõc
                                    </a>
                                    <a th:href="@{/admin/settings/document-notifications/test-scheduler}" class="backup-btn secondary" onclick="return confirm('Test scheduler th√¥ng b√°o t√†i li·ªáu?')" style="background: #ffc107; color: #212529;" target="_blank">
                                        <i class="fas fa-clock"></i> Test Scheduler
                                    </a>
                                </div>
                                
                                <!-- Scheduler Enabled Notice -->
                                <div class="alert alert-success" style="margin-top: 15px; padding: 15px; background: #d4edda; border: 1px solid #28a745; border-radius: 8px;">
                                    <h4 style="color: #155724; margin: 0 0 10px 0;"><i class="fas fa-check-circle"></i> H·ªá th·ªëng ho·∫°t ƒë·ªông</h4>
                                    <p style="margin: 0; color: #155724;">
                                        <strong>‚úÖ Email ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh th√†nh c√¥ng!</strong> Scheduler t·ª± ƒë·ªông ƒëang ho·∫°t ƒë·ªông v√† s·∫Ω g·ª≠i email th√¥ng b√°o t√†i li·ªáu m·ªõi theo t·∫ßn su·∫•t ƒë√£ ch·ªçn.
                                    </p>
                                    <p style="margin: 10px 0 0 0; color: #155724; font-size: 14px;">
                                        <i class="fas fa-info-circle"></i> 
                                        H·ªá th·ªëng ki·ªÉm tra m·ªói gi·ªù v√† g·ª≠i email (t·ªëi ƒëa 50 users/l·∫ßn ƒë·ªÉ tr√°nh Gmail limit).
                                    </p>
                                </div>
                                
                                <!-- Gmail Limit Warning -->
                                <div class="alert alert-warning" style="margin-top: 10px; padding: 15px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px;">
                                    <h4 style="color: #856404; margin: 0 0 10px 0;"><i class="fas fa-exclamation-triangle"></i> L∆∞u √Ω Gmail Limit</h4>
                                    <p style="margin: 0; color: #856404; font-size: 14px;">
                                        <strong>Gmail gi·ªõi h·∫°n:</strong> 500 emails/ng√†y cho t√†i kho·∫£n c√° nh√¢n. H·ªá th·ªëng t·ª± ƒë·ªông gi·ªõi h·∫°n 50 emails/l·∫ßn ƒë·ªÉ tr√°nh v∆∞·ª£t qu√°.
                                    </p>
                                    <p style="margin: 5px 0 0 0; color: #856404; font-size: 14px;">
                                        <strong>Khuy·∫øn ngh·ªã:</strong> S·ª≠ d·ª•ng Gmail Workspace (2000 emails/ng√†y) cho production.
                                    </p>                                    </p>
                                </div>
                                
                                <div class="backup-note" style="margin-top: 15px; padding: 10px; background: #e8f5e8; border: 1px solid #4caf50; border-radius: 5px; font-size: 0.9em; color: #2e7d32;">
                                    <strong>üìö Th√¥ng b√°o t√†i li·ªáu m·ªõi:</strong> Khi c√≥ t√†i li·ªáu m·ªõi ƒë∆∞·ª£c th√™m v√†o h·ªá th·ªëng, email s·∫Ω ƒë∆∞·ª£c g·ª≠i cho <strong>t·∫•t c·∫£ ng∆∞·ªùi d√πng</strong> theo t·∫ßn su·∫•t ƒë√£ ch·ªçn.
                                    <br><strong>ü§ñ T·ª± ƒë·ªông:</strong> H·ªá th·ªëng s·∫Ω ki·ªÉm tra m·ªói gi·ªù v√† g·ª≠i email khi c√≥ t√†i li·ªáu m·ªõi trong kho·∫£ng th·ªùi gian t∆∞∆°ng ·ª©ng (1 ng√†y/1 tu·∫ßn).
                                    <br><strong>üìß Ng∆∞·ªùi nh·∫≠n:</strong> T·∫•t c·∫£ user ƒëang ho·∫°t ƒë·ªông (kh√¥ng b·ªã x√≥a) s·∫Ω nh·∫≠n ƒë∆∞·ª£c email th√¥ng b√°o.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>





                <!-- Backup Settings -->
                <div class="settings-section" id="backup">
                    <div class="section-header">
                        <h2><i class="fas fa-database"></i> Sao l∆∞u v√† ph·ª•c h·ªìi</h2>
                        <p>Qu·∫£n l√Ω vi·ªác sao l∆∞u d·ªØ li·ªáu h·ªá th·ªëng</p>
                    </div>

                    <div class="settings-cards">
                        <!-- Removed automatic backup section -->

                        <div class="settings-card">
                            <div class="card-header">
                                <h3>Sao l∆∞u t√†i li·ªáu</h3>
                                <p>Export v√† Import d·ªØ li·ªáu t√†i li·ªáu</p>
                            </div>
                            <div class="card-content">
                                <div class="backup-info">
                                    <div class="backup-stat">
                                        <div class="stat-label">Backup cu·ªëi c√πng</div>
                                        <div class="stat-value" th:text="${settings.lastBackup}">Ch∆∞a c√≥</div>
                                    </div>
                                    <div class="backup-stat">
                                        <div class="stat-label">K√≠ch th∆∞·ªõc backup</div>
                                        <div class="stat-value" th:text="${settings.backupSize}">0 MB</div>
                                    </div>
                                    <div class="backup-stat">
                                        <div class="stat-label">T·ªïng t√†i li·ªáu</div>
                                        <div class="stat-value" th:text="${settings.totalBackups}">0</div>
                                    </div>
                                </div>
                                
                                <div class="backup-actions">
                                    <!-- Export Documents -->
                                    <a href="/admin/settings/backup/export" class="backup-btn primary">
                                        <i class="fas fa-download"></i> Export t√†i li·ªáu
                                    </a>
                                    
                                    <!-- Import Documents Form -->
                                    <form action="/admin/settings/backup/import" method="post" enctype="multipart/form-data" style="display: inline-block;">
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                        <input type="file" id="backupFile" name="backupFile" accept=".json" style="display: none;" onchange="this.form.submit()">
                                        <button type="button" class="backup-btn secondary" onclick="document.getElementById('backupFile').click()">
                                            <i class="fas fa-upload"></i> Import t√†i li·ªáu
                                        </button>
                                    </form>
                                </div>
                                
                                <div class="backup-note" style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px; font-size: 0.9em; color: #6c757d;">
                                    <strong>L∆∞u √Ω:</strong> Export s·∫Ω t·∫£i xu·ªëng file JSON ch·ª©a th√¥ng tin t·∫•t c·∫£ t√†i li·ªáu. Import s·∫Ω th√™m t√†i li·ªáu m·ªõi t·ª´ file backup (kh√¥ng ghi ƒë√® t√†i li·ªáu ƒë√£ c√≥).
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Removed Advanced Settings section -->
            </div>

            </div>
            </form>
            
            <!-- Save Button -->
            <div class="settings-actions">
                <button type="submit" form="settingsForm" class="save-settings-btn">
                    <i class="fas fa-save"></i> L∆∞u t·∫•t c·∫£ c√†i ƒë·∫∑t
                </button>
                <form th:action="@{/admin/settings/reset}" method="post" style="display: inline;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="reset-settings-btn" onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën kh√¥i ph·ª•c c√†i ƒë·∫∑t m·∫∑c ƒë·ªãnh?')">
                        <i class="fas fa-undo"></i> Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh
                    </button>
                </form>
                <a th:href="@{/admin/settings/export}" class="export-settings-btn">
                    <i class="fas fa-download"></i> Xu·∫•t c·∫•u h√¨nh
                </a>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <script th:src="@{/js/admin/settings.js}"></script>
    
    <script>
        // C√°c script kh√°c c√≥ th·ªÉ th√™m v√†o ƒë√¢y n·∫øu c·∫ßn
        {% comment %} function toggleNotificationDropdown() {
            console.log('Toggle notification clicked!');
            const dropdown = document.getElementById('notificationDropdown');
            
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
                console.log('Dropdown closed');
            } else {
                dropdown.classList.add('show');
                console.log('Dropdown opened');
            }
        }
    
        // Mark all as read function
        function markAllAsRead() {
            console.log('Mark all as read clicked!');
            const unreadItems = document.querySelectorAll('.notification-item.unread');
            unreadItems.forEach(item => {
                item.classList.remove('unread');
            });
            
            // Update badge
            const badge = document.getElementById('notificationBadge');
            if (badge) {
                badge.style.display = 'none';
            }
            
            alert('ƒê√£ ƒë√°nh d·∫•u t·∫•t c·∫£ th√¥ng b√°o l√† ƒë√£ ƒë·ªçc!');
        }
    
        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Settings page notification script loaded!');
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                const dropdown = document.getElementById('notificationDropdown');
                const button = document.getElementById('notificationBtn');
                
                if (dropdown && button && !dropdown.contains(e.target) && !button.contains(e.target)) {
                    dropdown.classList.remove('show');
                }
            });
    
            // Mark individual notification as read
            document.addEventListener('click', function(e) {
                if (e.target.closest('.notification-item')) {
                    const item = e.target.closest('.notification-item');
                    item.classList.remove('unread');
                    
                    // Update badge count
                    const unreadCount = document.querySelectorAll('.notification-item.unread').length;
                    const badge = document.getElementById('notificationBadge');
                    if (badge) {
                        if (unreadCount > 0) {
                            badge.textContent = unreadCount;
                            badge.style.display = 'inline-block';
                        } else {
                            badge.style.display = 'none';
                        }
                    }
                }
            });
        }); {% endcomment %}
    </script>
</body>

</html>