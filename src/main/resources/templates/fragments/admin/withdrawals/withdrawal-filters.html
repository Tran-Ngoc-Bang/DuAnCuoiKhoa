<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
  </head>
  <body>
    <!-- Search and Filter Form Fragment -->
    <form
      th:fragment="withdrawal-filters"
      th:action="@{/admin/withdrawals}"
      method="get"
      class="management-tools"
    >
      <div class="search-filters">
        <div class="tool-item">
          <input
            type="text"
            name="keyword"
            th:value="${keyword}"
            class="search-input"
            placeholder="Tìm kiếm theo tên người dùng, email, mã withdrawal..."
          />
        </div>
        <div class="tool-item">
          <select name="status" class="filter-select">
            <option value="">Tất cả trạng thái</option>
            <option
              th:each="statusOption : ${statusOptions}"
              th:value="${statusOption.name()}"
              th:text="${statusOption.displayName}"
              th:selected="${status == statusOption.name()}"
            >
              Trạng thái
            </option>
          </select>
        </div>
        <div class="tool-item">
          <input
            type="date"
            name="startDate"
            th:value="${startDate}"
            class="date-input"
            placeholder="Từ ngày"
          />
        </div>
        <div class="tool-item">
          <input
            type="date"
            name="endDate"
            th:value="${endDate}"
            class="date-input"
            placeholder="Đến ngày"
          />
        </div>
      </div>
      <div class="action-buttons">
        <button type="submit" class="secondary-btn">
          <i class="fas fa-filter"></i>
          Lọc
        </button>
        <a th:href="@{/admin/withdrawals}" class="secondary-btn">
          <i class="fas fa-times"></i>
          Xóa bộ lọc
        </a>
        <button type="button" class="export-btn" id="exportBtn">
          <i class="fas fa-download"></i>
          Xuất Excel
        </button>
      </div>
    </form>

    <!-- Date Range Presets Fragment -->
    <div th:fragment="date-range-presets" class="date-range-selector">
      <div class="date-preset-btns">
        <button type="button" class="date-btn" data-range="today">
          Hôm nay
        </button>
        <button type="button" class="date-btn" data-range="week">
          Tuần này
        </button>
        <button type="button" class="date-btn active" data-range="month">
          Tháng này
        </button>
        <button type="button" class="date-btn" data-range="quarter">
          Quý này
        </button>
        <button type="button" class="date-btn" data-range="year">
          Năm này
        </button>
        <button type="button" class="date-btn" data-range="all">Tất cả</button>
      </div>
    </div>
  </body>
</html>
